"use strict";function signUp(e){e.preventDefault();var inputs={name:form.nameUser.value,email:form.email.value,confirmEmail:form.confirmEmail.value,password:form.password.value,confirmPassword:form.confirmPassword.value};save(inputs);window.location.href="/entrar.html"}function confirmEmail(){confirm("confirmEmail","email")}function confirmPassword(){confirm("confirmPassword","password")}function confirm(input,main){var field=document.getElementById(input);var a=document.getElementById(input).value;var b=document.getElementById(main).value;if(a!==b){field.classList.add("is-invalid");document.getElementById("".concat(input,"Feedback")).innerText="Confirma\xE7\xE3o inv\xE1lida"}else{field.classList.remove("is-invalid")}}function save(inputs){var setUsers=[];if(localStorage.hasOwnProperty("users")){setUsers=JSON.parse(localStorage.getItem("users"))}setUsers.push({name:inputs.name,email:inputs.email,password:inputs.password});localStorage.setItem("users",JSON.stringify(setUsers))}
"use strict";function signIn(e){e.preventDefault();var inputs={email:formSignIn.email.value,password:formSignIn.password.value};var errorSignIn=document.getElementById("errorSignIn");var validate=validEmail(inputs);if(!validate){errorSignIn.classList.remove("d-none")}else{errorSignIn.classList.add("d-none");localStorage.setItem("logged",true);window.location.href="/produtos.html"}}function validEmail(inputs){var getUsers=JSON.parse(localStorage.getItem("users"));var hasUser=getUsers.filter(function(user){return user.email===inputs.email&&user.password===inputs.password});return!!hasUser[0]}
"use strict";function logout(){localStorage.setItem("logged",false);window.location.href="/"}
"use strict";window.addEventListener("load",function(){var mainMenu=document.getElementById("mainMenu");var homeMenu="\n    <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"/\">Home</a>\n    </li>\n    <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"./cadastrar.html\">Cadastrar</a>\n    </li>";var loggedMenu="\n    ".concat(homeMenu,"\n    <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"./produtos.html\">Produtos</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" href=\"#\" onclick=\"logout()\">Sair</a>\n    </li>\n  ");var notLoggedMenu="\n    ".concat(homeMenu,"\n    <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"./entrar.html\">Entrar</a>\n    </li>\n  ");if(logged==="true"){mainMenu.innerHTML=loggedMenu}else{mainMenu.innerHTML=notLoggedMenu}});
"use strict";function listUsers(){var getUsers=JSON.parse(localStorage.getItem("users"));var usersHtml=getUsers.map(function(user){return"\n      <tr>\n        <td>".concat(user.name,"</td>\n        <td>").concat(user.email,"</td>\n      </tr>")}).join("");var html="\n    <table class=\"table table-hover\">\n      <thead>\n      <tr>\n        <th scope=\"col\">Nome</th>\n        <th scope=\"col\">E-mail</th>\n      </tr>\n      </thead>\n      <tbody>\n        ".concat(usersHtml,"\n      </tbody>\n    </table>");document.getElementById("usersContent").innerHTML=html}
"use strict";var logged=localStorage.getItem("logged");console.log("logged");console.log(logged);var currentPage=window.location.href;if(currentPage.indexOf("cadastrar")!==-1){var form=document.formSignUp;form.addEventListener("submit",signUp);form.email.addEventListener("keyup",confirmEmail);form.confirmEmail.addEventListener("keyup",confirmEmail);form.password.addEventListener("keyup",confirmPassword);form.confirmPassword.addEventListener("keyup",confirmPassword)}if(currentPage.indexOf("entrar")!==-1){var formSignIn=document.formSignIn;formSignIn.addEventListener("submit",signIn)}if(currentPage.indexOf("produtos")!==-1){if(logged==="true"){window.addEventListener("load",listUsers)}else{alert("Entre para ter acesso!");window.location.href="/entrar.html"}}